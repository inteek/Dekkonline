
@using System.Web.Optimization;
@using Microsoft.AspNet.Identity    
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DekkOnline</title>


    @Styles.Render("~/Styles/bootstrap.css")
    @Styles.Render("~/Styles/Site.css?V=2")
    @Styles.Render("~/Styles/plugins/notyf.min.css")
    @Styles.Render("~/Styles/plugins/bootstrap-popover-x.css")
    @Styles.Render("~/Styles/plugins/ladda-themeless.min.css")
    @Styles.Render("~/Styles/datatables.min.css")

    @Styles.Render("~/Styles/plugins/select2.css")
    @Styles.Render("~/styles/plugins/bootstrap-colorpicker.css")
    @Styles.Render("~/styles/plugins/bootstrap-slider.css")
    @Styles.Render("~/styles/plugins/bootstrap-datepicker.css")
    @Styles.Render("~/styles/plugins/summernote.css")


    <!-- Icons -->
    @Styles.Render("~/fonts/ionicons/css/ionicons.min.css")

    @*<link rel="shortcut icon" type="image/x-icon" href="@Url.Content("~/Content/imgs/mbfavicon.ico")" />*@





    @Html.DevExpress().GetStyleSheets(
                                                                new StyleSheet { ExtensionSuite = ExtensionSuite.NavigationAndLayout },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.CardView },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.PivotGrid },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.SpellChecker },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.HtmlEditor },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.RichEdit },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.Editors },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.VerticalGrid },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.Spreadsheet },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.Scheduler },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.Chart },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.Report },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.GridView },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.TreeList },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.DashboardDesigner },
                                                    new StyleSheet { ExtensionSuite = ExtensionSuite.DashboardViewer }
                                                            )








    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")



    @Html.DevExpress().GetScripts(
                                                                new Script { ExtensionSuite = ExtensionSuite.NavigationAndLayout },
                                                    new Script { ExtensionSuite = ExtensionSuite.CardView },
                                                    new Script { ExtensionSuite = ExtensionSuite.PivotGrid },
                                                    new Script { ExtensionSuite = ExtensionSuite.SpellChecker },
                                                    new Script { ExtensionSuite = ExtensionSuite.HtmlEditor },
                                                    new Script { ExtensionSuite = ExtensionSuite.RichEdit },
                                                    new Script { ExtensionSuite = ExtensionSuite.Editors },
                                                    new Script { ExtensionSuite = ExtensionSuite.VerticalGrid },
                                                    new Script { ExtensionSuite = ExtensionSuite.Spreadsheet },
                                                    new Script { ExtensionSuite = ExtensionSuite.Scheduler },
                                                    new Script { ExtensionSuite = ExtensionSuite.Chart },
                                                    new Script { ExtensionSuite = ExtensionSuite.Report },
                                                    new Script { ExtensionSuite = ExtensionSuite.GridView },
                                                    new Script { ExtensionSuite = ExtensionSuite.TreeList },
                                                    new Script { ExtensionSuite = ExtensionSuite.DashboardDesigner },
                                                    new Script { ExtensionSuite = ExtensionSuite.DashboardViewer }
                                                            )

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3pN4K2y47Ta_rkII0WsPOFvCUut8u98w" type="text/javascript"></script>


</head>
<body>

    <div id="principalDiv" class="prDiv">
        <div class="prMask">
        </div>
        <div class="prLogo link" onclick="goHome()">
            <img src="@Url.Content("~/Content/imgs/logo.png")" />
        </div>

        <div id="divCart" class="col-xs-12 col-md-12" style="padding-top:100px; text-align:right;">
            <label id="lblProductCount" style="font-family:Arial; position:absolute; right:25px; padding-top:2px; font-size:12px; color:#fff;float:right;">0</label>
            <a href="@Url.Action("Index", "ShoppingCart")"><img src="@Url.Content("~/Content/imgs/carrito3.png")" style="height:40px; float:right; cursor:pointer;" /></a>
        </div>


    </div>

    <div class="prMenu" style="overflow-x:hidden;overflow-y:hidden;">
        @Html.Partial("_LoginPartial")
    </div>

    <div class="clearfix"></div>
    <div id="homeContainDiv" class="prContain">
        <div id="HomeContent">
        </div>
    </div>

    <div class="clearfix"></div>
    <div class="spacer20 visible-xs visible-sm"></div>
    <div class="clearfix"></div>

    <div id="mainContainDiv" class="prMainContain">
        <div id="MainContent">
            @RenderBody()

            <div class="clearfix"></div>
            <div class="footer">
                <div class="col-md-3">
                    <div class="footerLogo"></div>
                </div>
                <div class="col-md-6 footerCt">
                    <div class="col-sm-6 barRt">
                        Tel: (777) 316/3636 y 316/6591<br />
                        infomdm@dienomdm.com
                    </div>
                    <div class="col-sm-6 barLt">
                        Plaza los geranios Av.Diana 406,<br />
                        Local 1 Col. Delicias, Cuernavaca
                    </div>
                    <div class="clearfix"></div>
                    <div class="spacer10"></div>
                    <div class="clearfix"></div>
                    <a href="/">privacy policy</a> - <a href="/">terms & conditions</a>
                </div>
                <div class="col-md-3">
                    <div class="footerCol3">
                        <div class="iconSocial">
                            <a href="/" title="Instagram">
                                <img src="@Url.Content("~/Content/imgs/fbGray.png")" />
                            </a>
                        </div>
                        <div class="iconSocial">
                            <a href="/" title="facebook">
                                <img src="@Url.Content("~/Content/imgs/fbGray.png")" />
                            </a>
                        </div>
                        <div class="clearfix"></div>
                        <a class="login" href="/Account/Login">log in</a>
                    </div>
                </div>
            </div>

        </div>
    </div>




    <div id="modalLogin" class="modal fade modalLogin" data-backdrop="true" style="z-index:9999;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="clearfix"></div>
                    <div class="spacer20"></div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12 loginLogo">
                    </div>
                    <div class="clearfix"></div>
                    <div class="loginContain">
                        <div class="col-md-6">
                            <div class="modalLoginLt">
                                <h4>ALREADY A DEKKONLINE MEMBER:</h4>

                                @Html.Partial("Login")

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modalLoginRt">
                                <h4>REGISTER:</h4>

                                @Html.Partial("Register")

                            </div>

                        </div>
                    </div>
                    <div class="hidden">
                        <div class="col-md-offset-2 col-md-10">
                            <div class="checkbox">
                                @*<asp:CheckBox runat="server" ID="RememberMe" />
                                    <asp:Label runat="server" AssociatedControlID="RememberMe">Remember me?</asp:Label>*@
                            </div>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                    <div class="spacer20"></div>
                    <div class="clearfix"></div>

                    <div class="BoxGeneral text-center">
                        @*<h4>LOG IN FASTER</h4>*@
                        <div class="clearfix"></div>
                        @*<section id="socialLoginForm">
                                <uc:OpenAuthProviders runat="server" ID="OpenAuthLogin" />
                            </section>*@
                    </div>

                    <div class="clearfix"></div>
                    <div class="spacer20"></div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>







    @Scripts.Render("~/Scripts/vendors.js")
    @Scripts.Render("~/Scripts/plugins/pace.min.js")
    @Scripts.Render("~/Scripts/plugins/d3.min.js")
    @Scripts.Render("~/Scripts/plugins/c3.min.js")
    @Scripts.Render("~/Scripts/plugins/screenfull.js")
    @Scripts.Render("~/Scripts/plugins/perfect-scrollbar.min.js")
    @Scripts.Render("~/Scripts/plugins/waves.min.js")
    @Scripts.Render("~/Scripts/plugins/jquery.sparkline.min.js")
    @Scripts.Render("~/Scripts/plugins/jquery.easypiechart.min.js")
    @Scripts.Render("~/Scripts/plugins/bootstrap-rating.min.js")
    @Scripts.Render("~/Scripts/plugins/select2.min.js")
    @Scripts.Render("~/Scripts/plugins/notyf.min.js")
    @Scripts.Render("~/Scripts/plugins/bootstrap-popover-x.min.js")
    @Scripts.Render("~/Scripts/plugins/spin.min.js")
    @Scripts.Render("~/Scripts/plugins/ladda.min.js")
    @Scripts.Render("~/Scripts/plugins/datatables.min.js")


    @Scripts.Render("~/Scripts/connectAsy.js?v=3")
    @Scripts.Render("~/Scripts/Login.js?v=2")



    @RenderSection("scripts", required: false)



    <script type="text/javascript">
        var zip = "";

        function getLocation() {

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
            }
        }

        function showPosition(p) {
            debugger
            var latlng = new google.maps.LatLng(p.coords.latitude, p.coords.longitude);
            geocoder = new google.maps.Geocoder();


            debugger
            geocoder.geocode({ 'latLng': latlng }, function (results, status) {
                debugger
                if (status == google.maps.GeocoderStatus.OK) {
                    if (results[0]) {
                        for (j = 0; j < results[0].address_components.length; j++) {
                            debugger
                            if (results[0].address_components[j].types[0] == 'postal_code') {
                                zip = results[0].address_components[j].short_name;
                                debugger
                                try { txtZipCode.SetText(zip); } catch (x) {
                                    debugger
                                }
                            }
                        }
                    }
                } else {

                }
                zip;
                localStorage.setItem("zipCode", zip);
            });
        }

        function errorGP(error) {
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    alert("Error. PERMISSION_DENIED");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("Error. POSITION_UNAVAILABLE");
                    break;
                case error.TIMEOUT:
                    alert("Error. TIMEOUT");
                    break;
                default:
                    alert("unknown error code");
            }
        }


        $(document).ready(function () {

            try {
                initPage();
            } catch (e) { };


            updateCountProductCart();

            if ($("#Email").val() != "") {
                $("#Email").removeClass("txtUser");
            } else {
                $("#Email").addClass("txtUser");
            }

            if ($("#Password").val() != "") {
                $("#Password").removeClass("txtPass");
            } else {
                $("#Password").addClass("txtPass");
            }


            if ($("#lblFailureText").html() != "" && $("#lblFailureText").html() != undefined) {
                //openLogin();
            }

            $("#Email").focus(function () {
                $(this).removeClass("txtUser");
                $(this).addClass("txtUserMin");

            });

            $("#Password").focus(function () {
                $(this).removeClass("txtPass");
            });

            $("#Email").focusout(function () {
                if ($(this).val() != "") {
                    $(this).removeClass("txtUser");
                } else {
                    $(this).addClass("txtUser");
                }
            });

            $("#Password").focusout(function () {
                if ($(this).val() != "") {
                    $(this).removeClass("txtPass");
                } else {
                    $(this).addClass("txtPass");
                }
            });


            if ($("#NewEmail").val() != "") {
                $("#NewEmail").removeClass("txtUser");
            } else {
                $("#NewEmail").addClass("txtUser");
            }

            if ($("#NewPassword").val() != "") {
                $("#NewPassword").removeClass("txtPass");
            } else {
                $("#NewPassword").addClass("txtPass");
            }


            if ($("#lblNewFailureText").html() != "" && $("#lblNewFailureText").html() != undefined) {
                openLogin();
            }

            $("#NewEmail").focus(function () {

                $(this).removeClass("txtUser");
                $(this).addClass("txtUserMin");

            });

            $("#NewPassword").focus(function () {

                $(this).removeClass("txtPass");

            });

            $("#NewEmail").focusout(function () {
                if ($(this).val() != "") {
                    $(this).removeClass("txtUser");
                } else {
                    $(this).addClass("txtUser");
                }
            });

            $("#NewPassword").focusout(function () {
                if ($(this).val() != "") {
                    $(this).removeClass("txtPass");
                } else {
                    $(this).addClass("txtPass");
                }
            });



        });


        function openMenu() {
            $(".prMenuClosed").hide(100);
            $(".prMenuOpen").show(100);
            $(".prMenuItems").show(100);
        }

        function closeMenu() {
            $(".prMenuItems").hide(100);
            $(".prMenuOpen").hide(100);
            $(".prMenuClosed").show(100);
        }

        function notify(msg, type, time, ele) {

            if (time == undefined) time = 10;
            if (ele == undefined) ele = "body";

            time = time * 1000;


            if (type == 0) type = 'danger';
            else if (type == 1) type = 'success';
            else type = 'info';

            $.growl({
                title: '<div style="font-weight:bold; font-size:large">' + msg + '</div> ',
                message: ''
            }, {
                    type: type,
                    offset: {
                        x: 20,
                        y: 50
                    },
                    delay: time,
                    element: ele
                });
        }

        function openLogin() {
            $('#modalLogin').modal('show');
        }

        function goHome() {
            window.location = "/";
        }


        function updateCountProductCart() {
            debugger
            conectarAsy("../ShoppingCart/CountProductCart", null, function (result) {
                debugger
                if (result != null && result.length > 0) {
                    $("#lblProductCount").text(result[0])
                    if (parseInt(result) < 10) {
                        $("#lblProductCount").css("right", "25px");
                    }
                    else {
                        $("#lblProductCount").css("right", "23px");
                    }
                }
            });
        }


    </script>





</body>
</html>



